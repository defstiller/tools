{"version":3,"file":"static/js/536.1af19905.chunk.js","mappings":"6KACA,EAA+B,gCAA/B,EAA4E,8B,2BCA5E,GAAgB,YAAc,iCAAiC,eAAiB,oCAAoC,YAAc,iCAAiC,QAAU,6BAA6B,QAAU,6BAA6B,iBAAmB,sCAAsC,KAAO,0BAA0B,QAAU,6BAA6B,cAAgB,mCAAmC,SAAW,+B,SCqFhb,MA9EA,SAAqBA,GACpB,IAAOC,EAAgBD,EAAhBC,aACP,GAAsCC,EAAAA,EAAAA,UAAS,GAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAA8CF,EAAAA,EAAAA,UAAS,IAAvD,eAAOG,EAAP,KAAwBC,EAAxB,KACMC,GAAWC,EAAAA,EAAAA,MAEXC,GAAaC,EAAAA,EAAAA,UACbC,GAAiBD,EAAAA,EAAAA,UAEvB,SAASE,EAAsBC,GACfA,EAAMC,SACPL,EAAWM,QACxBX,EAAeD,EAAc,GAE7BC,EAAeD,EAAc,GAgC/B,SAASa,EAAmBC,GAC3B,IAAMC,EAAOD,EAAQE,GACrBZ,EAASW,GAGV,OAbAE,EAAAA,EAAAA,YAAU,YAhBV,WACCT,EAAeI,QAAQM,UAAW,EAClCZ,EAAWM,QAAQM,UAAW,EAC9B,IACMC,EADkB,IACAnB,EAAc,GAChCoB,EAAgBD,EAFE,GAGrBrB,EAAaqB,EAAiB,KAChCX,EAAeI,QAAQM,UAAW,GAEhCpB,EAAasB,EAAgB,KAC/Bd,EAAWM,QAAQM,UAAW,GAE/B,IAAMG,EAAWvB,EAAawB,MAAMH,EAAgBC,GACpDjB,EAAmBkB,GAInBE,KACE,CAACvB,EAAaF,KAEjBmB,EAAAA,EAAAA,YAAU,WACThB,EAAe,KACb,CAACH,KAQH,iBAAK0B,UAAWC,EAAAA,WAAhB,WACC,iBAAMD,UAAWC,EAAAA,YAAjB,UACC,wBACEvB,GAAmBA,EAAgBwB,KAAI,SAAAZ,GACvC,OACC,eAAqBU,UAAWC,EAAAA,SAAhC,UACC,SAACE,EAAA,EAAD,CACCb,QAASA,EACTD,mBAAoBA,EACpBY,OAAQA,KAJDX,EAAQE,YAWrB,iBAAKQ,UAAWC,EAAAA,eAAhB,WACC,mBAAQG,QAASnB,EAAuBoB,IAAKrB,EAA7C,uBACA,mBAAQoB,QAASnB,EAAuBoB,IAAKvB,EAA7C,yB,SC3BJ,MA3CA,WACC,OAAuCwB,EAAAA,EAAAA,YAAWC,EAAAA,IAA3CC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,QACrB,GADA,EAA8BC,OACJnC,EAAAA,EAAAA,UAAS,KAAnC,eAAOoC,EAAP,KAAcC,EAAd,KACMC,GAAgBC,EAAAA,EAAAA,kBAAiBH,GACvC,GAAwCpC,EAAAA,EAAAA,UAAS,IAAjD,eAAOD,EAAP,KAAqByC,EAArB,KAyBA,OAjBAC,EAAAA,EAAAA,UAAQ,WACP,GAAGH,EAAe,CACjB,IAAII,EAAgB,GACpBT,EAAaN,KAAK,SAAAgB,GACjB,IAAMC,EAAaN,EAAcO,cACpBF,EAAKG,KAAKD,cACfE,SAASH,IAChBF,EAAcM,KAAKL,MAIrBH,EAAgBE,QAEhBF,EAAgBP,KAEf,CAACK,EAAeL,KAGlB,iBAAKR,UAAWwB,EAAhB,WACC,SAACC,EAAA,EAAD,CAAchB,QAASA,KACvB,yDACA,2BACC,kBAAOiB,KAAK,SAASC,YAAY,YAAYC,MAAOjB,EAAOkB,SA5B9D,SAA2B3C,GAC1B,IAAM0C,EAAQ1C,EAAMC,OAAOyC,MAC3BhB,EAASgB,SA4BR,gBAAK5B,UAAWwB,EAAhB,UACC,SAAC,EAAD,CAAalD,aAAcA","sources":["webpack://toolspros/./src/pages/shopPage/products/searchBar.module.css?54e5","webpack://toolspros/./src/pages/shopPage/products/productList/productList.module.css?bfa8","pages/shopPage/products/productList/ProductList.jsx","pages/shopPage/products/SearchBar.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchBarDiv\":\"searchBar_searchBarDiv__7yA4S\",\"productDiv\":\"searchBar_productDiv__wZY+-\"};","// extracted by mini-css-extract-plugin\nexport default {\"productMain\":\"productList_productMain__8yjz-\",\"pageChangeBtns\":\"productList_pageChangeBtns__ZcMJJ\",\"cardArticle\":\"productList_cardArticle__CXlEY\",\"infoDiv\":\"productList_infoDiv__aZSW5\",\"cartDiv\":\"productList_cartDiv__8MTje\",\"changeAmountBtns\":\"productList_changeAmountBtns__KN8+5\",\"link\":\"productList_link__uFrJF\",\"cartBtn\":\"productList_cartBtn__fo5KB\",\"addToCartMenu\":\"productList_addToCartMenu__4c38a\",\"listItem\":\"productList_listItem__1LCzX\"};","import React, {useState, useEffect, useRef} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport ProductCard from \"../../../../components/productCard/productCardSmall/ProductCard\";\n\nimport styles from \"./productList.module.css\";\n\nfunction ProductList(props) {\n\tconst {filteredData} = props;\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [currentProducts, setCurrentProducts] = useState([]);\n\tconst navigate = useNavigate();\n\n\tconst nextButton = useRef();\n\tconst previousButton = useRef();\n\n\tfunction handlePageChangeClick(event) {\n\t\tconst target = event.target;\n\t\tif(target === nextButton.current) {\n\t\t\tsetCurrentPage(currentPage + 1);\n\t\t} else {\n\t\t\tsetCurrentPage(currentPage - 1);\n\t\t}\n\t}\n\n\t/**\n\t * Get the first and last index of the current page, then slice the array to get the products for that\n\t * page.\n\t */\n\tfunction productPagination() {\n\t\tpreviousButton.current.disabled = true;\n\t\tnextButton.current.disabled = true;\n\t\tconst productsPerPage = 10;\n\t\tconst firstPageIndex = (currentPage - 1) * productsPerPage;\n\t\tconst lastPageIndex = firstPageIndex + productsPerPage;\n\t\tif(filteredData[firstPageIndex - 1]) {\n\t\t\tpreviousButton.current.disabled = false;\n\t\t}\n\t\tif(filteredData[lastPageIndex + 1]) {\n\t\t\tnextButton.current.disabled = false;\n\t\t}\n\t\tconst newArray = filteredData.slice(firstPageIndex, lastPageIndex); // get {productsPerPage} elements depending on page number, page 1 = item 0 to {startingPoint + productsPerPage}, page 10 = item 50 to {startingPoint + productsPerPage};\n\t\tsetCurrentProducts(newArray);\n\t}\n\n\tuseEffect(() =>{\n\t\tproductPagination();\n\t}, [currentPage, filteredData]);\n\n\tuseEffect(() =>{ // set page to 1 when new data is received\n\t\tsetCurrentPage(1);\n\t}, [filteredData]);\n\n\tfunction handleProductClick(product) { //navigate user on click\n\t\tconst path = product.id;\n\t\tnavigate(path);\n\t}\n\n\treturn(\n\t\t<div className={styles.productDiv}>\n\t\t\t<main className={styles.productMain}>\n\t\t\t\t<ul>\n\t\t\t\t\t{currentProducts && currentProducts.map(product => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={product.id} className={styles.listItem}>\n\t\t\t\t\t\t\t\t<ProductCard \n\t\t\t\t\t\t\t\t\tproduct={product} \n\t\t\t\t\t\t\t\t\thandleProductClick={handleProductClick} \n\t\t\t\t\t\t\t\t\tstyles={styles}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</li>);\n\t\t\t\t\t})}\n\n\t\t\t\t</ul>\n\t\t\t</main>\n\t\t\t<div className={styles.pageChangeBtns}>\n\t\t\t\t<button onClick={handlePageChangeClick} ref={previousButton}>Previous</button>\n\t\t\t\t<button onClick={handlePageChangeClick} ref={nextButton}>Next</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nProductList.propTypes = {\n\tfilteredData: PropTypes.any\n};\nexport default ProductList;","import React, {useState, useContext, useDeferredValue, useMemo} from \"react\";\r\n\r\nimport classes from \"./searchBar.module.css\";\r\nimport {ProductDataContext} from \"../../../context/context\";\r\n\r\nimport ProductList from \"./productList/ProductList\";\r\nimport LoadingModal from \"../../../components/modal/loadingModal/LoadingModal\";\r\n\r\nfunction SearchBar() {\r\n\tconst {receivedData, loading, error} = useContext(ProductDataContext);\r\n\tconst [input, setInput] = useState(\"\");\r\n\tconst defferedInput = useDeferredValue(input);\r\n\tconst [filteredData, setFilteredData] = useState([]);\r\n\r\n\tfunction handleInputChange(event) {\r\n\t\tconst value = event.target.value;\r\n\t\tsetInput(value);\r\n\t}\r\n\t\r\n\t/* Filtering the data based on the input. receivedData dependancy is used to update on first render */\r\n\tuseMemo(() => {\r\n\t\tif(defferedInput) {\r\n\t\t\tlet filteredArray = [];\r\n\t\t\treceivedData.map( data => {\r\n\t\t\t\tconst lowerInput = defferedInput.toLowerCase();\r\n\t\t\t\tconst name = data.name.toLowerCase();\r\n\t\t\t\tif(name.includes(lowerInput)){\r\n\t\t\t\t\tfilteredArray.push(data);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t});\r\n\t\t\tsetFilteredData(filteredArray);\r\n\t\t} else {\r\n\t\t\tsetFilteredData(receivedData);\r\n\t\t}\r\n\t}, [defferedInput, receivedData]);\r\n\r\n\treturn(\r\n\t\t<div className={classes.searchBarDiv}>\r\n\t\t\t<LoadingModal loading={loading} />\r\n\t\t\t<h1>Best products on the market</h1>\r\n\t\t\t<form>\r\n\t\t\t\t<input type=\"search\" placeholder=\"Search...\" value={input} onChange={handleInputChange}/>\r\n\t\t\t</form>\r\n\t\t\t<div className={classes.productDiv}>\r\n\t\t\t\t<ProductList filteredData={filteredData}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SearchBar;"],"names":["props","filteredData","useState","currentPage","setCurrentPage","currentProducts","setCurrentProducts","navigate","useNavigate","nextButton","useRef","previousButton","handlePageChangeClick","event","target","current","handleProductClick","product","path","id","useEffect","disabled","firstPageIndex","lastPageIndex","newArray","slice","productPagination","className","styles","map","ProductCard","onClick","ref","useContext","ProductDataContext","receivedData","loading","error","input","setInput","defferedInput","useDeferredValue","setFilteredData","useMemo","filteredArray","data","lowerInput","toLowerCase","name","includes","push","classes","LoadingModal","type","placeholder","value","onChange"],"sourceRoot":""}